<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Year2/2007/25">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">25. Revision | Nottes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://notes.danlee.uk/Year2/2007/25"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="25. Revision | Nottes"><meta data-rh="true" name="description" content="Quick Definitions"><meta data-rh="true" property="og:description" content="Quick Definitions"><link data-rh="true" rel="icon" href="/img/nottsYell.png"><link data-rh="true" rel="canonical" href="https://notes.danlee.uk/Year2/2007/25"><link data-rh="true" rel="alternate" href="https://notes.danlee.uk/Year2/2007/25" hreflang="en"><link data-rh="true" rel="alternate" href="https://notes.danlee.uk/Year2/2007/25" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Nottes RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Nottes Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.74c7ce81.css">
<link rel="preload" href="/assets/js/runtime~main.9a725108.js" as="script">
<link rel="preload" href="/assets/js/main.d8c7c641.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/nottsBlue.svg" alt="Nottes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/nottsYell.svg" alt="Nottes Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Nottes</b></a><a class="navbar__item navbar__link" href="/Year1">Year 1</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Year2/">Year 2</a><a class="navbar__item navbar__link" href="/ITST/">Tech Support</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/nottsBlue.svg" alt="Nottes Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/nottsYell.svg" alt="Nottes Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Nottes</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2002/00">2002</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2003/00">2003</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2006/00">2006</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Year2/2007/00">2007</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/00">0. Introduction to Operating systems and Concurrency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/01">1. Introduction (2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/02">2. Processes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/03">3. Process Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/04">4. Threads</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/05">5. Process Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/06">6. Concurrency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/07">7. Concurrency (2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/08">8. Mutexs &amp; Semaphores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/09">9. Bounded buffer &amp; dining philosophers problem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/10">10.   Parallel dining philosophers &amp; Readers/writers problem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/11">11. Readers/writers problem(2)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/12">12. Memory Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/13">13. Memory Management 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/14">14. Dynamic Partitioning &amp; Paging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/15">15. Paging &amp; Virtual Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/16">16. Virtual Memory &amp; Page Replacement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/17">17. Page Replacement, Working/Resident Threads &amp; Thrashing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/18">18. Disk Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/19">19.  User &amp; Implementation view of file systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/20">20. File System Implementations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/21">21. I-Nodes &amp; File Systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/22">22. File System Recovery &amp; Defag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/23">23. Virtualisation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/24">24.  Virtualisation &amp; the Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Year2/2007/25">25. Revision</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Year2/2007/26">26. Exam Practise Questions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2009/ADE/00">2009</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2012/00">2012</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2013/00">2013</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/2014/00">2014</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Year2/Misc/Industry">Misc</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Year2/">Year 2</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">2007</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">25. Revision</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>25. Revision</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="quick-definitions">Quick Definitions<a class="hash-link" href="#quick-definitions" title="Direct link to heading">​</a></h2><ul><li><strong>Internal Fragmentation</strong> - When a small process is assigned to a larger memory block, it creates free space in that assigned memory block. The difference between allotted and requested memory is called this. <strong>Inside the block</strong></li><li><strong>External fragmentation</strong> - outside the block</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="computer-design">Computer Design<a class="hash-link" href="#computer-design" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="registers">Registers<a class="hash-link" href="#registers" title="Direct link to heading">​</a></h3><ul><li><strong>Data Registers</strong> - Any sort of data for special functions. </li><li><strong>Program Counter-</strong> Holds the next instruction.</li><li><strong>Program status word</strong>  - admin, stores the mode bit. Which mode the CPU is in, kernel mode or user mode.</li><li><strong>User Mode</strong> - Direct access to a subset of instructions the CPU can carry out</li><li><strong>Kernel mode</strong> - Access to the full set of instructions. Including privileged memory locations. </li><li>Normally compiler decides which mode to use</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="memory-management-unit">Memory Management Unit<a class="hash-link" href="#memory-management-unit" title="Direct link to heading">​</a></h3><p><em>Location of an address</em>
Doesn&#x27;t know where in memory an executable will run. Variables require memory, they need to have a memory space</p><ul><li><strong>Logic Address Space</strong> -  Used by the processor and the compiler (starts at 0). What you use when you write code. Every process has one <!-- -->[0,MAX^64]<!-- --> </li><li><strong>Physical Address Space</strong> - Seen by the hardware/OS <!-- -->[0,MAX]<!-- --> (Determined by the amount of physical memory)
Also responsible for address translation <code>physical = locgical + x</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="moors-law">Moors Law<a class="hash-link" href="#moors-law" title="Direct link to heading">​</a></h3><blockquote><p><strong>Moore&#x27;s law</strong> - The number of transistors on an integrated circuit doubles roughly every two years. </p></blockquote><p>Closely linked but necessarily related to performance.
Still continuing but the power wall slows performance improvements of single core
Can extract parallelism automatically, can implement it at the lowest level</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multi-core-hyper-threaded-processors">Multi-core, hyper-threaded processors<a class="hash-link" href="#multi-core-hyper-threaded-processors" title="Direct link to heading">​</a></h3><p>Evolution in hardware has implications on OS design
The process scheduling needs to account for load balancing and CPU affinity. Need to decide <strong>when</strong> and <strong>where</strong> it is going to run</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="micro-kernels">Micro Kernels<a class="hash-link" href="#micro-kernels" title="Direct link to heading">​</a></h3><p>All non-essential functionality is extracted from the kernel. These are easier to extend, more portable and more reliable.
Frequent system calls cause mode switches/overhead</p><p><strong>Monolithic Systems</strong> - All procedures into one single executable running in kernel mode. However, they are difficult to maintain. Current versions of Windows, and Linux are implemented as this.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction-to-processes">Introduction to processes<a class="hash-link" href="#introduction-to-processes" title="Direct link to heading">​</a></h2><p>Running instance of a program. This has &#x27;control structures&#x27; - they store all the necessary information related to the management of the process</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="context-switching">Context Switching<a class="hash-link" href="#context-switching" title="Direct link to heading">​</a></h3><p>Process control box contains:</p><ul><li><strong>Process identification</strong> (PID, UID, Parent PID)</li><li><strong>Process control information</strong> (process state, scheduling information)</li><li><strong>Process state information</strong> (user registers, program counter, stack pointer, program status word, memory management information, files)
The <strong>process control block</strong> is <strong>necessary</strong> for <strong>context switching</strong> in <strong>multi-programmed systems</strong>
Process control blocks are kernel data structures, which are stored in the <strong>process table</strong> and are accessible in the <strong>kernel mode</strong> only (system calls), otherwise this would compromise their integrity.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multi-programming">Multi-Programming<a class="hash-link" href="#multi-programming" title="Direct link to heading">​</a></h4><p>Achieved by alternating processes and context switching</p><ul><li>Single processor systems results in concurrent execution</li><li>True parallelism requires multiple processors</li></ul><p>Slow time slices - good response times, low utilisation
Long time slices - poor response times, better utilisation</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="process">Process<a class="hash-link" href="#process" title="Direct link to heading">​</a></h4><p>Memory image contains: the program (shared) code, data segment (stack/heap)
Every process has own logical address space
Some OS address space layout are randomised </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="process-implementation">Process implementation<a class="hash-link" href="#process-implementation" title="Direct link to heading">​</a></h3><p>Information about the status of &quot;resources&quot; is maintained in tables. These are in kernel space and cross referenced</p><ul><li><strong>Process tables</strong> - process control blocks</li><li><strong>Memory tables</strong> - memory allocation, protection, virtual memory </li><li><strong>I/O tables</strong> - Availability, status, transfer information</li><li><strong>File tables</strong> - Location, status</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="states-and-transitions">States and Transitions<a class="hash-link" href="#states-and-transitions" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/assets/images/20221007111037-7da3e50e02a7213e1f6b3b47a20902e1.png" width="929" height="454" class="img_ev3q"></p><ul><li><strong>New</strong> process has just been created and is waiting to be admitted</li><li><strong>Ready</strong> process is waiting for the CPU to become available</li><li><strong>Running</strong> process &#x27;owns&#x27; the CPU</li><li><strong>Blocked</strong> process cannot continue (waiting for IO)</li><li><strong>Terminated</strong> process is no longer executable</li><li><strong>Suspended</strong> process is swapped out</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="system-calls">System Calls<a class="hash-link" href="#system-calls" title="Direct link to heading">​</a></h3><ul><li>True system calls are &quot;wrapped&quot; in the OS libraries following a well defined interface</li><li>These are necessary to notify the OS that the process has terminated</li><li><code>fork()</code> - creates an exact copy of the current process</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="process-scheduling">Process Scheduling<a class="hash-link" href="#process-scheduling" title="Direct link to heading">​</a></h2><ul><li>New -&gt; ready: when to admit processes to the system</li><li>Ready -&gt; running: decide which process to run next</li><li>Running -&gt; ready: when to interrupt process</li><li><strong>Scheduler</strong> - decides which process to run next</li><li><strong>Type of operating system</strong> - determines which algorithms are appropriate</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="time-horizon">Time Horizon<a class="hash-link" href="#time-horizon" title="Direct link to heading">​</a></h3><ul><li><strong>Long term</strong> - admits new processes and controls the degree of multi programming. Good mix of CPU and IO bound processes. Usually absent in popular modern </li><li><strong>Medium term</strong> - controls swapping. Looks to see how busy the system currently is. </li><li><strong>Short term</strong> - which process to run next. Manages the ready queue, runs frequently (must be fast). Called following clock interrupts or blocking system calls.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="process-schedulers">Process Schedulers<a class="hash-link" href="#process-schedulers" title="Direct link to heading">​</a></h3><ul><li><strong>Non-Preemptive</strong> - Processes are interrupted voluntarily</li><li><strong>Preemptive</strong> - Processes are interrupted forcefully or voluntarily. Requires context switches. Prevents process from monopolising the CPU. Most popular OS are preemptive</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance-assessment">Performance Assessment<a class="hash-link" href="#performance-assessment" title="Direct link to heading">​</a></h3><ul><li>User Oriented Criteria<ul><li><strong>Response time</strong>: time between creating the job and its first execution</li><li><strong>Turnaround time</strong>: time between creating the job and finishing it</li><li><strong>Predictability</strong>: variance in processing times</li></ul></li><li>System oriented criteria:<ul><li>Throughput: number of jobs processed per hour</li><li>Fairness: Equally distributed processing.</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scheduling-algorithms">Scheduling Algorithms<a class="hash-link" href="#scheduling-algorithms" title="Direct link to heading">​</a></h3><table><thead><tr><th>Algorithm</th><th>Concept</th><th>Advantage</th><th>Disadvantage</th></tr></thead><tbody><tr><td>First Come First Served/First in First out</td><td>Non-preemptive algorithm that operates as a strict queuing mechanism.</td><td>Positional fairness an easy to implement</td><td>Favours long processes over short ones. Could compromise resource utilisation.</td></tr><tr><td>Shortest Job First</td><td>A non-preemptive algorithm that starts processes in order of ascending processing time</td><td>Always result in the optimal turnaround time</td><td>Starvation might occur. Fairness and predictability are compromised. Processing times have to be known beforehand</td></tr><tr><td>Round Robin</td><td>A preemptive version of FCFS. Processes run in the order they were added but they only get a max amount of time at once. Forces context switches at periodic intervals</td><td>Improved response time. Effective for general purpose interactive/time sharing systems</td><td>Increased context switching and overhead. Favours CPU bound processes over IO. Can reduce to FCFS.</td></tr><tr><td>Priority Queue</td><td>A preemptive algorithm that schedules processes by priority. Round robin is used within the same priority levels. Saved by the process control block</td><td>Can priorities IO bound jobs</td><td>Low priority may suffer from starvation</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="threads">Threads<a class="hash-link" href="#threads" title="Direct link to heading">​</a></h2><ul><li><strong>Resources</strong> - All related resources are grouped together</li><li><strong>Execution trace</strong> - entity that gets executed</li><li>A process can share its resources between multiple execution traces/threads</li></ul><p>Every thread has its own execution context &amp; thread control block, however they all have access to the processes shared resources.
Execution of a process has states (new, running, blocked, read, terminated)</p><table><thead><tr><th>Shared Resources (Processes)</th><th>Private Resources (Threads)</th></tr></thead><tbody><tr><td>Address space</td><td>Program Counter</td></tr><tr><td>Global variables</td><td>Registers</td></tr><tr><td>Open files</td><td>Stack</td></tr><tr><td>Child processes</td><td>State</td></tr><tr><td>Pending alarms</td><td>Local vars</td></tr><tr><td>Signals and signal handling</td><td></td></tr><tr><td>Accounting information</td><td></td></tr></tbody></table><p>Threads incur less overhead to create/terminate/switch
Hyper threaded cores have hardware support for multi-threading</p><ul><li><strong>Inter-thread communication</strong>: Easier/faster than <strong>interprocess</strong> communication (memory is shared)</li><li><strong>No protection boundaries</strong>: Required in the address space (threads are cooperating, belong to the same user, and have a common goal)</li><li><strong>Synchronisation</strong>: Has to be considered carefully</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reason-to-use-threads">Reason to use threads<a class="hash-link" href="#reason-to-use-threads" title="Direct link to heading">​</a></h3><ul><li>Processes will often contain multiple blocking tasks (IO operations &amp; memory access page faults)</li><li>Some activities should be carried out in parallel/concurrently such as webservers, msoffice etc</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="user-threads">User Threads<a class="hash-link" href="#user-threads" title="Direct link to heading">​</a></h3><p><em>Many-to-One</em></p><ul><li>Thread management is executed in user space with the help of a user library</li><li>Process maintains a thread table, managed by the runtime system without the kernels knowledge.</li><li>Kernel can see 1 process, but user space can see multiple</li><li>Advantages - Full control over the thread scheduler, OS independent and in user space</li><li>Disadvantages - Blocking system calls suspend the entire process (can be cause by page faults), no true parallelism, clock interrupts don&#x27;t exist.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="kernel-threads">Kernel Threads<a class="hash-link" href="#kernel-threads" title="Direct link to heading">​</a></h3><p><em>One-to-One</em></p><ul><li>Kernel manages threads, user access them through system calls. Thread table is maintained by the kernel. If a thread blocks, the kernel chooses thread</li><li>Advantages - True parallelism, no run-time needed</li><li>Frequent mode switches take place (performance)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performance">Performance<a class="hash-link" href="#performance" title="Direct link to heading">​</a></h3><ul><li><strong>Null fork</strong> - the overhead is creating, scheduling, running and terminating a null process/thread</li><li><strong>Signal wait</strong> - overhead is synchronising threads</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hybrid-implementations">Hybrid Implementations<a class="hash-link" href="#hybrid-implementations" title="Direct link to heading">​</a></h3><ul><li>User threads are multiplexed onto kernel threads</li><li>Kernel sees and schedules the kernel threads</li><li>User applications sees user threads and creates/schedules these</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="thread-management">Thread Management<a class="hash-link" href="#thread-management" title="Direct link to heading">​</a></h3><ul><li>Libraries are either user space or based on system calls</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="process-scheduling-1">Process Scheduling<a class="hash-link" href="#process-scheduling-1" title="Direct link to heading">​</a></h2><p>Characteristics of feedback queues include; number of queues, scheduling algorithms, migration policy and initial access. These queues are highly configurable.</p><ul><li><strong>Real time</strong> - processes/threads have a fixed priority level</li><li><strong>Variable</strong> - processes/threads can have their priorities boosted temporarily
Priorities are based on the process base priority(0-15) and thread base priority (+-2 relative to the process priority)
Threads priority dynamically changes during execution. (between base and max priority)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="completely-fair-scheduler">Completely fair scheduler<a class="hash-link" href="#completely-fair-scheduler" title="Direct link to heading">​</a></h3><p>Linux has Real time tasks, FIFO and Round Robin, and Time sharing tasks using a preemptive approach.
Real time FIFO takes highest priority, and preemption if a higher priority shows up
Real time round robin tasks are preemptable by clock interrupts and have a time slice associated with them. </p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="equal-priority">Equal priority<a class="hash-link" href="#equal-priority" title="Direct link to heading">​</a></h4><p>CFS divides the CPU time between all processes/threads. If all <em>N</em> have same priority, they will be allocated a time slice. The length of the time slice are based on the targeted latency. If <em>N</em> is very large, the context switch time will be dominant, and a lower bound on the time slice.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="different-priority">Different priority<a class="hash-link" href="#different-priority" title="Direct link to heading">​</a></h4><p>A weighing scheme is used to take different priorities into account. If different priority,  then every <em>i</em> is allocated a weight <em>w</em> that reflects its priority. The tasks with the lowest proportional amount of used CPU time are selected first</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multi-processor-scheduling">Multi-processor scheduling<a class="hash-link" href="#multi-processor-scheduling" title="Direct link to heading">​</a></h3><ul><li><strong>Single Processor</strong> machine - Which process(thread) to run next</li><li><strong>Shared Queues</strong> - Single or multi-level shared between all CPUs. + Automatic load balancing. - Contention for the queues (locking if needed), does not account for processor affinity</li><li><strong>Private Queues</strong> - Each CPU has a private set of queues. + CPU affinity is automatically satisfied, contention for shared queues minimised. - Less load balancing, push and pull migration between CPUs is required</li><li><strong>Related Threads</strong> - Multiple threads that communicate with one another and ideally run together (search algorithm)</li><li><strong>Unrelated Threads</strong> - Processes threads that are independent, possibly started by different users running different programs</li><li>Working together - Aim is to get threads running, as much as possible, at same time across multiple CPUs</li><li><strong>Space Scheduling</strong> - Number <em>N</em> can be dynamically adjusted to match processor capacity</li><li><strong>Gang Scheduling</strong> - Time slices are synchronised and the scheduler groups threads together to run simultaneously. Preemptive algorithm, blocking threads result in idle CPUs</li></ul><hr><p><em>This is where Dan the retard compresses his notes instead of &#x27;shortening&#x27; them</em></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="concurrency">Concurrency<a class="hash-link" href="#concurrency" title="Direct link to heading">​</a></h2><ul><li>Threads/processes execute concurrently and share resources. These can be interrupted at any point. Process state is saved in the process control block.</li><li>Outcomes of programs are unpredictable. Sharing data leads to inconsistencies. </li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="race-conditions">Race Conditions<a class="hash-link" href="#race-conditions" title="Direct link to heading">​</a></h3><ul><li>Occurs when multiple threads/processes access shared data and same time.</li><li>Mechanisms such as semaphores and mutexes can prevent this.</li><li>OS must make sure that interactions within the OS do not result in race conditions<ul><li>Must provide locking mechanisms to implement/support mutual exclusions and prevent starvation/deadlocks</li></ul></li></ul><p><strong>Critical Section</strong> - Set of instructions in which shared resources between processes/threads are changed. Only one can access it at once, so need to ensure it gets locked whilst in use. Solutions must allow process to enter it as some point, and ensure there is fairness within the program.</p><p><strong>Mutual Exclusion</strong> - Must be enforced for critical sections. Processes need to get permissions before entering critical section. Solutions can be software based (Peterson solution), hardware, mutexes/semaphores, monitors. Deadlocks also need to be prevented</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="deadlocks">Deadlocks<a class="hash-link" href="#deadlocks" title="Direct link to heading">​</a></h3><blockquote><p>Set of p/t is deadlocked if each p/t in the set is waiting for an event that only the other p/t in the set can access</p></blockquote><p>Mutexes can cause deadlocks. <strong>All</strong> four conditions must hold for deadlocks to occur</p><ol><li><strong>Mutual exclusion</strong>: a resource can be assigned to at most one process at a time</li><li><strong>Hold and wait condition</strong>: a resource can be held whilst requesting new resources</li><li><strong>No preemption</strong>: resources cannot be forcefully taken away from a process</li><li><strong>Circular wait</strong>: there is a circular chain of two or more processes, waiting for a resource held by the other processes.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="petersons-solution">Peterson&#x27;s Solution<a class="hash-link" href="#petersons-solution" title="Direct link to heading">​</a></h3><ul><li><strong>Software Solution</strong> - Worked well on older machines. Two shared variables are used <code>turn</code> (next in critical section) and <code>boolean flag[2]</code>(process is read to enter the critical section.<a href="/Year2/2007/07#Peterson&#x27;s_Solution">Code</a></li><li><strong>Mutual Exclusion Requirement</strong> - Satisfies all critical section requirements. Only want one process on the thread accessing the critical section at once</li><li><strong>Progress Requirement</strong> - Any process must be able to enter its critical section at some point in time.</li><li><strong>Fairness/bound waiting</strong> - Fairly distributed waiting times/processes cannot be made to wait indefinitely</li></ul><p><strong>Disabling Interrupts</strong> - Disable whilst executing a critical section and prevent interrupts. May be appropriate on single CPU machine. Insufficient on modern machines</p><p><strong>Atomic Instructions</strong> - Implement <code>test_and_set()</code> and <code>swap_and_compare()</code> instructions as a set of atomic (= uninterruptible) instructions. Reading and setting is done as one complete instruction. If called simultaneously, they will be executed sequentially.</p><p><strong>Mutual Exclusion</strong> - <code>test_and_set()</code> and <code>swap_and_compare()</code> are hardware instructions and not directly accessible to the user. Other disadvantages include busy waiting, and deadlocks</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mutexs--semaphores">Mutexs &amp; Semaphores<a class="hash-link" href="#mutexs--semaphores" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mutexes">Mutexes<a class="hash-link" href="#mutexes" title="Direct link to heading">​</a></h4><ul><li>Mutexes are an approach for mutual exclusion provided by the operating system. Contains boolean lock variable to indicate. Lock is set to <strong>true</strong> if <strong>available</strong>. <strong>false</strong> if <strong>unavailable</strong></li><li>Two functions are used, must be atomic instructions;<ul><li><code>acquire()</code> - called before a critical selection, sets bool to false. Results in busy wait and bad for performance on single CPU systems</li><li><code>release()</code> - called after the critical section, sets bool to true</li></ul></li><li>Advantages - Context switches can be avoided, efficient on multi-core/processor system.</li><li>Can be implemented as sempahore</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sempahores">Sempahores<a class="hash-link" href="#sempahores" title="Direct link to heading">​</a></h4><ul><li>Does the opposite, puts the process on the execution and puts it to sleep</li><li>Contains an integer variable, well distinguished between binary and counting sempahores, force mutual exclusion. Positive values indicate its available, negative means how many are waiting</li><li>Two atomic functions<ul><li><code>wait()</code> - called when a resource is acquired, the counter is decremented</li><li><code>signal()</code>/<code>post()</code> - is called when a resource is released</li></ul></li><li>Different queuing strategies can be employed to remove p/t, queues as FIFO</li></ul><p><strong>Efficiency</strong> - Performance penalty, only synchronise whats necessary and as few as possible</p><p><strong>Caveats</strong> </p><ul><li>Starvation - Poorly designed queuing approaches (LIFO)</li><li>Deadlocks - Every thread in a set is waiting</li><li>Priority Inversion - High priority process waits for a resources held by a low priority process. This can happen in chains, prevented by inheritance/boosting</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-producerconsumer-problem">The Producer/Consumer Problem<a class="hash-link" href="#the-producerconsumer-problem" title="Direct link to heading">​</a></h3><ul><li>Producers and consumers share <em>N</em> buffers that are capable of holding one item each.</li><li>Producer(s) add items and goes to sleep if buffer is full</li><li>Consumer(s) removes items and goes to sleep if the buffer is empty</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first-version">First Version<a class="hash-link" href="#first-version" title="Direct link to heading">​</a></h4><ul><li>1 of each, unbounded buffer. Counter(index) represents the number of items in the buffer</li><li>Solution consists of two binary semaphores<ul><li><code>sync</code>: synchronises access to the buffer (counter) - initialised to 1</li><li><code>delay_consumer</code>: puts the consumer to sleep when the buffer is empty - initialised to 0</li></ul></li></ul><p><img loading="lazy" src="/assets/images/20221021180655-7051af2cbed9842724242728fdd71cfa.png" width="1475" height="551" class="img_ev3q">
<strong>Race condition</strong> - When the consumer has exhausted the buffer, should have gone to sleep, but the producer increments <code>items</code> before the consumer checks it</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="second-version">Second Version<a class="hash-link" href="#second-version" title="Direct link to heading">​</a></h4><p>Other variant of the problem has <em>n</em> consumers, <em>m</em> producers, and a fixed buffer size <em>N</em>. Solution is based on 3 semaphores</p><ul><li><code>sync</code> - enforce the mutual exclusion for the buffer</li><li><code>empty</code> - keeps track of the number of empty buffers, initialised to <em>N</em></li><li><code>full</code> - keeps track of the number of full buffers, initialised to 0</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-dining-philosophers-problem">The Dining Philosophers Problem<a class="hash-link" href="#the-dining-philosophers-problem" title="Direct link to heading">​</a></h3><ul><li>5 Philosophers sitting around table, and require two forks, but there are only 5.</li><li>When hungry (in between thinking) they try to acquire the fork on his left and right, these are represented by semaphores<ul><li>1 - fork is available</li><li>0 - fork is not available</li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="solution-1---deadlock">Solution 1 - Deadlock<a class="hash-link" href="#solution-1---deadlock" title="Direct link to heading">​</a></h4><ul><li>Every philosopher picks up one fork and waits for the second one to become available (without putting the first one down)</li><li>Fixed this by having random wait time, or an additional fork.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="solution-2---global-mutexsemaphore">Solution 2 - Global Mutex/Semaphore<a class="hash-link" href="#solution-2---global-mutexsemaphore" title="Direct link to heading">​</a></h4><ul><li>Could have global mutex when they want to eat, but this results into only one being able to eat</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="solution-3---maximum-parallelism">Solution 3 - Maximum Parallelism<a class="hash-link" href="#solution-3---maximum-parallelism" title="Direct link to heading">​</a></h4><ul><li><code>state[n]</code> - one state variable for every philosopher</li><li><code>phil[n]</code> - one semaphore per philosopher. (Sleeps if neighbour is eating, wakes up once finished eating)</li><li><code>sync</code> - one semaphore/mutex to enforce mutual exclusion of the section (updating states)</li><li><a href="/Year2/2007/10#solution_3_-_maximum_parallelism">Code</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="readerwriters-problem">Reader/Writers Problem<a class="hash-link" href="#readerwriters-problem" title="Direct link to heading">​</a></h3><ul><li>Concurrent database processes are readers/writers, files etc</li><li>Reading a record can happen in parallel, writing needs synchronisation</li><li>Different solutions, naive implementation (one at a time) (limited parallelism), readers receive priority, writing is performed asap</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="memory-management">Memory Management<a class="hash-link" href="#memory-management" title="Direct link to heading">​</a></h2><p>OS Responsibilities - (de)allocate memory between process when required and keep track. Control access when multi-programming is applied</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="partitioning">Partitioning<a class="hash-link" href="#partitioning" title="Direct link to heading">​</a></h3><ul><li><strong>Contiguous memory management models</strong> - allocate memory in one single block without any holes or gaps</li><li><strong>Non-contiguous memory management models</strong> - capable of allocating memory in multiple blocks, or segments, which may be placed anywhere in physical memory</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contiguous-approaches">Contiguous Approaches<a class="hash-link" href="#contiguous-approaches" title="Direct link to heading">​</a></h4><ul><li><strong>Mono-programming</strong> - one single partition for user processes</li><li><strong>Multi-programming</strong> with fixed (non)equal partitions</li><li><strong>Multi-programming</strong> with dynamic partitions</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mono-programming">Mono-Programming<a class="hash-link" href="#mono-programming" title="Direct link to heading">​</a></h3><ul><li>One process at a time, and a fixed region of memory is allocated to the OS, remaining memory is reserved for a single process.</li><li>Process has direct access to its allocated contiguous block of memory</li><li>One process is allocated the entire memory space, and the process is always located in the same address space. Overlays allow the program to control the memory.</li><li>Shortcomings<ul><li>Direct access to the physical memory means it has access to OS memory.</li><li>OS can be seen as a process, and low utilisation of hardware resources</li></ul></li><li>Simulating - Multi-programming through swap process out to the disk and load a new one, apply threads within the same process</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multi-programming-1">Multi-Programming<a class="hash-link" href="#multi-programming-1" title="Direct link to heading">​</a></h3><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span></span> - process in memory
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span></span></span></span></span> - processor spends percent of its time waiting for I/O
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">1-p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span></span></span></span></span> - CPU utilisation
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>p</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">p^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span> - Probability that all <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span></span> processes are waiting for I/O</p><p><img loading="lazy" src="data:image/png;base64,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" width="537" height="102" class="img_ev3q">
This model assumes that all processes are independent, not true
More complex models could be build queuing theory, can still use simplistic models to make predictions </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="partitioning-1">Partitioning<a class="hash-link" href="#partitioning-1" title="Direct link to heading">​</a></h2><p><strong>Fixed partitions of equal size</strong> - Divide memory into static, contiguous, and equal sized partitions that have fixed size and location.</p><ul><li>Disadvantages - Low memory utilisation and internal fragmentation: partition may be unnecessarily large. Overlays must be used if a program does not fit into a partition</li></ul><p><strong>Fixed partitions of non-equal size</strong> - Divide memory into static, non-equal sized partitions that have a fixed size and location. This reduces internal fragmentation, but the allocation of process to to partitions must be carefully considered</p><p><strong>Fixed Partitions (Allocation Methods)</strong> - One private queue per partition. Assigns each process to the smallest partition that it would fit in. Reduces internal fragmentation and can reduce memory utilisation and result in starvation.</p><p>A single shared queue for all partitions can allocate small process to large partitions but result in increased internal fragmentation</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relocation--protection">Relocation &amp; Protection<a class="hash-link" href="#relocation--protection" title="Direct link to heading">​</a></h3><ul><li><strong>Relocation</strong> - When a program is run, it does not know in advance which partition/addresses it will occupy. Program cannot simply generate static addresses that are absolute, and they should be relative to where the process has been located</li><li><strong>Protection</strong> - Once you can have two programs in memory at the same time, protection must be enforced</li><li><strong>Logical Address</strong> - Memory address seen by the process. Must be mapped onto the machines physical address space</li><li><strong>Physical address</strong> - Refers to an actual location in main memory</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="approaches">Approaches<a class="hash-link" href="#approaches" title="Direct link to heading">​</a></h4><ol><li>Static relocation at compile time - Process located at the same location every single time</li><li>Dynamic relocation at load time - Offset added to every logical address to account for its physical location in memory. Slows down the loading of a process.</li><li>Dynamic relocation at runtime</li></ol><p><strong>Base Address/Register</strong> - Stores the start address of the partition. At runtime, its added to the logical(relative) address to generate the physical address
<strong>Limit Register</strong> - Holds the size of the partition. At runtime this is compared against the result address
This approach requires hardware support, and they are maintained in the CPU (the MMU)</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="dynamic-partitioning">Dynamic Partitioning<a class="hash-link" href="#dynamic-partitioning" title="Direct link to heading">​</a></h3><ul><li><strong>Fixed partitioning</strong> results in internal fragmentation due to partitions not being entirely used or the exact requirements are available in the partitions</li><li><strong>Dynamic partitioning</strong> has a variable number of partitions of which the size/address change over time. Processes are allocated the exact amount of contiguous memory it requires. Prevents internal fragmentation</li><li>Swapping - Holds some of processes on drive and moves them between that and main memory<ul><li>Reasons - Some processes only run occasionally and have more processes than partitions.</li></ul></li><li>Difficulties - Exact memory may not be known in advanced. Overhead of memory compaction requires dynamic relocation<ul><li>External fragmentation - Swapping a process out of memory will create a hole, and may not require entire hole. New processes may be too large for this hole</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="allocation-structures">Allocation Structures<a class="hash-link" href="#allocation-structures" title="Direct link to heading">​</a></h3><p><strong>Bitmaps</strong> - Simplest data structure, memory is split into blocks. To find holes, need to find adjacent bits set to 0. Size may make searching for the bitmap slower. Larger blocks increase internal fragmentation. Size of bitmaps can be problematic for small blocks and make searching the bitmap slower. </p><p><strong>Linked List</strong> - Each link contains data items, e.g. start of memory block, size, free/allocated flag. Allocation of processes to unused blocks become non-trivial</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="allocating-available-memory">Allocating Available Memory<a class="hash-link" href="#allocating-available-memory" title="Direct link to heading">​</a></h3><ul><li><strong>First Fit</strong> - Starts scanning from the start of the linked list until a link is found which represents free space of sufficient size. If it doesn&#x27;t find one, it&#x27;ll be split into two. First entry set to the size requested and marked <em>used</em>, second entry set to remaining size and marked as <em>free</em>.<ul><li>Summary - Fast allocation which looks for first available hole. Can breaks up big holes</li></ul></li><li><strong>Next Fit</strong> - Maintains a record of where it got to. Restarts from when it last stopped. Even chance of all memory to get allocated. Sims show this gives worse performance than first fit<ul><li>Summary - No improvements on model</li></ul></li><li><strong>Best Fit</strong> - Always searches the entire linked list to find smallest hole. Slower than first fit and results in more wasted memory</li><li><strong>Worst Fit</strong> - Finds the largest available empty partition and splits it. </li><li><strong>Quick Fit</strong> - Maintains a list of commonly used sizes. Much faster to find required size hole. But creates many tiny holes. Finding neighbours for coalescing becomes difficult/time consuming</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-available-memory">Managing available memory<a class="hash-link" href="#managing-available-memory" title="Direct link to heading">​</a></h3><p><strong>Coalescing</strong> - When two adjacent entries in the linked list become free. Joined together to increase block size
<strong>Compacting</strong> - Can be used to join free and used memory together. Compacting is more difficult and time consuming to implement than coalescing.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contiguous-allocation-schemes">Contiguous Allocation Schemes<a class="hash-link" href="#contiguous-allocation-schemes" title="Direct link to heading">​</a></h3><ul><li>Mono-programming - Easy but does result in low resource utilisation</li><li>Fixed partitioning facilitates multi-programming but results in internal fragmentation</li><li>Dynamic partitioning facilitates multi-programming, reduces internal fragmentation, but results in external fragmentation</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paging">Paging<a class="hash-link" href="#paging" title="Direct link to heading">​</a></h2><p>Principles of fixed partitioning and core relocation to devise a new non-contiguous management scheme. Memory split into multiple blocks and allocated to a process. These don&#x27;t have to be contiguous in main memory, but will be perceived to be.
<strong>Benefits</strong> - Internal fragmentation is reduced to the last block only and there is no external fragmentation, since physical blocks are stacked directly onto each other in main memory</p><ul><li><strong>Frame</strong> - Small contiguous block in physical memory. These have the same size as pages</li></ul><p>Logical address need ti be translated into a physical address. Multiple &#x27;base registers&#x27; will be required, which are stored in the page table. Bigger it gets, the slower it is.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="address-translation">Address Translation<a class="hash-link" href="#address-translation" title="Direct link to heading">​</a></h3><ul><li>Logical (physical) address is relative to the start of the program(memory) and consists of two parts<ul><li>The right most <em>m</em> bits that represent the offset within the page (frame)</li><li>The left most <em>n</em> bits that represent the page (frame number)</li></ul></li><li>Offset remain the same.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relocation">Relocation<a class="hash-link" href="#relocation" title="Direct link to heading">​</a></h3><ol><li>Extract the page number form logical address</li><li>Use page number as an index to retrieve the frame number in the page table</li><li>Add the &quot;logical offset within the page&quot; to the start of the physical frame
Hardware implementation of address translation</li><li>The CPUs MMU intercept logical addresses</li><li>MMU uses a page table as above</li><li>The resulting physical address is put on the memory bus</li></ol><p><strong>Benefits</strong> - Ability to maintain more processes in memory through the use of virtual memory improves CPU utilisation</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="page-tables">Page Tables<a class="hash-link" href="#page-tables" title="Direct link to heading">​</a></h3><ul><li><strong>Present/absent bit</strong> - set if the page/frame is in memory</li><li><strong>Modified bit/dirty bit</strong> - set if the page/frame has been modified </li><li><strong>Referenced bit</strong> - Set if the page is or has been in use</li><li><strong>Protection and sharing bits</strong> - read, write, execute etc
<img loading="lazy" src="/assets/images/20221111092940-ebc962266fc703189d0ae9f90bc2ac3c.png" width="717" height="207" class="img_ev3q"></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multi-level">Multi-level<a class="hash-link" href="#multi-level" title="Direct link to heading">​</a></h4><ul><li>Large page tables cannot be store in registers, have to be in (virtual) main memory.</li><li>Able to page the page table, keep tree-like structures to hold page tables, no need to keep all page tables in memory all the time</li><li><strong>Access Speed</strong> - Root page table is always stored in memory, rest is VM</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h3><ul><li>Paging splits logical and physical address spaces into small pages/frames to reduce internal and external fragmentation</li><li>Virtual memory exploits the principle of locality and allows for processes to be loaded only partially into memory, large logical address space require &#x27;different&#x27; approaches e.g paging a page table</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="virtual-memory">Virtual Memory<a class="hash-link" href="#virtual-memory" title="Direct link to heading">​</a></h2><ul><li>Memory organisation of multi-level page tables. </li><li><strong>Translation look aside buffers(TLBs)</strong>  - Cache the most used page table entries, and searched in parallel. Associative memory.  Locality states that processes make a large number of references to a small number of pages.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="inverted-page-tables">Inverted Page Tables<a class="hash-link" href="#inverted-page-tables" title="Direct link to heading">​</a></h3><p><strong>Normal</strong> - Proportional to the number of pages in virtual address space - can be prohibitive for modern machines
<strong>Inverted</strong> - Size is proportional to the size of main memory. Contains only one entry for every frame. Uses a hash function that transforms page numbers into frame numbers so its quicker.</p><ul><li><strong>Frame Number</strong> - Index of the inverted page table</li><li><strong>Process Identifier(PID)</strong> - The process that owns this page</li><li><strong>Virtual Page Number (VPN)</strong> - We don&#x27;t know if its in memory</li><li><strong>Protection Bits</strong> -  Read/Write/Execution</li><li><strong>Chaining Pointer</strong> - The field points toward the next frame that has exactly the same VPN. Need to solve collisions </li></ul><table><thead><tr><th>Advantages</th><th>Disadvantages</th></tr></thead><tbody><tr><td>OS maintains a single inverted page table for all processes</td><td>Virtual-to-physical translation becomes much harder/slower</td></tr><tr><td>Saves lots of space</td><td>Hash tables eliminates the need of searching the whole inverted table, need to handle collisions</td></tr></tbody></table><p>TLBs are particularly necessary to improve their performance. Pages are shuttled between primary and secondary memory.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implementation-details">Implementation Details<a class="hash-link" href="#implementation-details" title="Direct link to heading">​</a></h4><p>Avoid unnecessary pages and page replacement is important</p><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">ma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">ma</span></span></span></span></span> = denote the memory access time
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span></span></span></span></span> = page fault rate
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>f</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">pft</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal">t</span></span></span></span></span> = page fault time
Effective access time is given by:
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>a</mi></msub><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo><mo>×</mo><mi>m</mi><mi>a</mi><mo>+</mo><mi>p</mi><mi>f</mi><mi>t</mi><mo>×</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">T_a = (1-p)\times ma+pft\times p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">ma</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span></span></span></span></span>
<em>Not considering TLBs here</em></p><p><strong>Demand Paging</strong> - Starts process with no pages in memory. First instruction will immediately cause a page fault. Will keep occurring, but will stabilise over time until moving to the next locality. Pages only loaded when needed
<strong>Working/Resident Set</strong> - Set of pages that are currently being used
<strong>Pre-Paging</strong> - Once process is started, all expected pages loaded into memory. This reduce page fault rate and reduce time (multiple contiguously stored)</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="page-replacement"><strong>Page Replacement</strong><a class="hash-link" href="#page-replacement" title="Direct link to heading">​</a></h3><p>OS decides which page to remove when new one loaded. Done by page replacement algorithms. Have to save time/prevent thrashing. (When the page is last used/modified etc)</p><p><strong>Optimal Page Replacement</strong> - Optimal world is labelled with number of instructions/length of time, therefore remove longest time. Not possible to implement but can be used for post execution analysis.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fifo">FIFO<a class="hash-link" href="#fifo" title="Direct link to heading">​</a></h4><p>Maintains a linked list and new pages are added at end of list, oldest page at the head gets evicted when page fault. This makes it easy to implement, but it performs poorly. Heavily used pages are likely to be evicted
<img loading="lazy" src="/assets/images/20221114134223-1ec326b6efe41c468b38520c933a15b4.png" width="842" height="511" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="second-chance-fifo">Second Chance FIFO<a class="hash-link" href="#second-chance-fifo" title="Direct link to heading">​</a></h4><p>If page at the front of line have not been referenced, gets evicted. If it has, page is placed at the end of the list and reference bit reset. Works better than FIFO, simple but costly to implement. Can degrade FIFO if all pages were initially referenced.
<img loading="lazy" src="/assets/images/20221118105359-b372b7760cb9770d71eec85e99e9cc40.png" width="905" height="322" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clock-replacement-algorithm">Clock Replacement Algorithm<a class="hash-link" href="#clock-replacement-algorithm" title="Direct link to heading">​</a></h4><p>Like Second Chance FIFO but in a circle. A pointer points to the last view page, faster but slow if list is long.
<img loading="lazy" src="/assets/images/20221118105651-1a9368381f755f10c2edd2301bf94e6a.png" width="741" height="644" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="not-recently-used-nru">Not Recently Used (NRU)<a class="hash-link" href="#not-recently-used-nru" title="Direct link to heading">​</a></h4><p>Referenced and modified bits are kept in the page table. Provides reasonable performance. Four different page &#x27;types&#x27; exist</p><ul><li>class 0: not referenced recently, not modified</li><li>class 1: not referenced recently, modified</li><li>class 2: referenced recently, not modified</li><li>class 3: referenced recently, modified</li></ul><p>Page table entries are inspected upon every page fault</p><ol><li>Find a page from class 0 to be removed</li><li>If step 1 fails, scan again looking for class 1. During this scan, set the reference bit to 0 on <strong>each page that is bypassed</strong></li><li>If step 2 fails, start again from step 1 (Now we should find elements from class 2 and  3 that have been moved to class 0 or 1)</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="least-recently-used">Least-Recently-Used<a class="hash-link" href="#least-recently-used" title="Direct link to heading">​</a></h4><p>Evicts the page that has not been used the longest. Can be implemented in hardware using a counter that is incremented after each instruction
<img loading="lazy" src="/assets/images/20221118113210-8199d7c4be5f228800312e4ff10bbb19.png" width="1539" height="497" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="summary-1">Summary<a class="hash-link" href="#summary-1" title="Direct link to heading">​</a></h4><ul><li><strong>Optimal Page Replacement</strong> - Optimal but not realisable</li><li><strong>FIFO</strong> page replacement - Poor performance, but easy to implement<ul><li><strong>Second Change Replacement</strong> - Better than FIFO, not great implementation</li><li><strong>Clock Replacement</strong> - Easy maintenance of the list, can still be slow</li></ul></li><li><strong>Not Recently Used (NRU)</strong> - Easy to understand, moderately efficient</li><li><strong>Least recently used (LRU)</strong> - Good approx. To optimal. More difficult to implement (hardware may help)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resident-set">Resident Set<a class="hash-link" href="#resident-set" title="Direct link to heading">​</a></h3><ul><li>Small resident sets enable to store more process in memory but cause more page faults</li><li>Larger ones may no longer reduce the page fault rate</li><li>For variable sized sets, replacement policies can be either local(Page of same process is replaced) or global (page taken away from different process)</li><li>Variable sized sets require careful evaluation of their size</li><li>Comprises the set of pages of the process that are in memory</li></ul><p>Global replacement policies can select frame from the entire set. Can be taken from another process
Local replacement policies can only select frames that are allocated to the current process</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="working-sets">Working Sets<a class="hash-link" href="#working-sets" title="Direct link to heading">​</a></h3><ul><li>The working set <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">W(t,k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">W</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mclose">)</span></span></span></span></span> comprises the set referenced pages in the last <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span> (= working set window) virtual time units for the process &lt;- Needs monitoring</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span> can be defined as memory references or actual process time. Need to choose the right value</li><li>Can be used as a guide for the number frames that should be allocated to the process</li></ul><p><img loading="lazy" src="/assets/images/20221118140738-cbca56bb60307ea4c90e22c40c5fec67.png" width="820" height="395" class="img_ev3q"></p><p><strong>Page fault frequency (PFF)</strong> - can be use as an approximation. If this changes, then so does <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="paging-daemon">Paging Daemon<a class="hash-link" href="#paging-daemon" title="Direct link to heading">​</a></h3><p>Good to keep a number of free pages for future page faults. Many systems have background process to deal with that (this)</p><p>Paging daemons can be combined with buffering, write the modified pages but keep them in main memory when possible.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="thrashing">Thrashing<a class="hash-link" href="#thrashing" title="Direct link to heading">​</a></h3><p>When pages are swapped out and loaded again immediately. CPU utilisation is low -&gt; scheduler increases degree of multi-programming</p><ul><li>Add more processes <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mi>p</mi><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1-p^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mi>I</mi><mi mathvariant="normal">/</mi><mi>O</mi></mrow><annotation encoding="application/x-tex">p = I/O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02778em">O</span></span></span></span></span> wait time, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span></span> is the number of processes</li></ul></li><li>Frames are allocated to new processes and taken away from existing processes.</li><li>CPU utilisation drops further</li></ul><p><strong>Causes</strong> - Degree of multi-programming is too high. Individual process is allocated too few pages
<strong>Prevention</strong> - Good page replacement policies reducing the degree of multi-programming or adding more memory. Page fault frequency can detect when system is thrashing.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-scheduling">Disk Scheduling<a class="hash-link" href="#disk-scheduling" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hard-disks">Hard Disks<a class="hash-link" href="#hard-disks" title="Direct link to heading">​</a></h3><p>Constructed as multiple aluminium/glass platters covered with magnetisable material
<img loading="lazy" src="/assets/images/20221121113711-f1d5307ea7ef5b5a952b080e5bb70765.png" width="1096" height="763" class="img_ev3q"></p><p>Disks are organised in</p><ul><li><strong>Cylinders</strong> - Collection of tracks in the same relative position to the spindle</li><li><strong>Tracks</strong> - Concentric circle on a single platter side</li><li><strong>Sectors</strong> - Segments of a track, usually have an equal number of bytes in them. Increases from the inner side of the disk to the outside</li></ul><p>Organisation - Usually have a cylinder skew. In the past consecutive disk sectors were interleaved to account for transfer time, yet this reduced the disk capacity.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="access-time">Access Time<a class="hash-link" href="#access-time" title="Direct link to heading">​</a></h4><p>Access time = seek time + rotational delay + transfer time</p><ul><li><strong>Seek time</strong> - time needed to move the arm to the cylinder</li><li><strong>Rotational latency</strong> - time before the sector appears under the head</li><li><strong>Transfer time</strong> - time to transfer the data
Multiple requests may happen concurrently, increases queuing time.</li></ul><p>The estimated seek time (move the arm from one track to another) is approximated by
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>S</mi></msub><mo>=</mo><mi>n</mi><mo>×</mo><mi>m</mi><mo>+</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">T_S = n \times m + s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">s</span></span></span></span></span></p><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">T_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> - estimated seek time</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">n</span></span></span></span></span> - the number of tracks to be crossed</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">m</span></span></span></span></span> - crossing time per track</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">s</span></span></span></span></span> - additional startup delay</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-scheduling-1">Disk Scheduling<a class="hash-link" href="#disk-scheduling-1" title="Direct link to heading">​</a></h3><p>Request may be queued if drive/controller is not free. In a dynamic situation, several I/O requests will be made over time that are kept in a table of requested sectors per cylinder. Algorithms determine the order in which disk events are processed.
<strong>FIFO</strong> - Process the requests in the order they arrive. Causes the most amount of movement
<strong>SSFO (Shortest Seek Time First)</strong> - Selects the request that is closest to the current head position to reduce head movement. Could cause disk starvation. Edges are poorly served in this situation</p><p><strong>SCAN</strong> - Keep moving in the same direction until it reaches the end. Serves all pending requests on the way.. The upper limit of the waiting time is 2 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord">×</span></span></span></span></span> number of cylinders. Middle cylinders are favoured if the disk is heavily used</p><p><strong>C-Scan (Circular Scan)</strong> - Once it reaches the end, it goes back to the beginning without reading the processes, ensures there&#x27;s fairness</p><p><strong>Look-SCAN</strong> - Moves to the cylinder containing the first/last request (not cylinder).</p><p><strong>N-step-SCAN</strong> - Only serves <em>N</em> requests every single sweep. Reasonable choices for the algorithms.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="driver-caching">Driver Caching<a class="hash-link" href="#driver-caching" title="Direct link to heading">​</a></h3><ul><li>Time required to seek a new cylinder is more than the rotational time. Read more sectors than actually required and store them in cache.</li></ul><p>SSD negates these issues. FCFS is generally used for this purpose.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-systems">File Systems<a class="hash-link" href="#file-systems" title="Direct link to heading">​</a></h2><p>User view that defines a file system in terms of the abstraction that the operating system provides</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="user-view">User View<a class="hash-link" href="#user-view" title="Direct link to heading">​</a></h3><ul><li><strong>File abstraction</strong> which hides away implementation details to the user</li><li>File <strong>naming policies</strong>, user file attributes (size, protection, owner, dates)<ul><li>Also system attributes for tiles</li></ul></li><li><strong>Directory structures</strong> and organisation</li><li><strong>System calls</strong> to interact with the file system</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="files">Files<a class="hash-link" href="#files" title="Direct link to heading">​</a></h3><ul><li><strong>Regular files</strong> - Contains user data in ASCII or binary format</li><li><strong>Directories</strong> - Group of files together</li><li><strong>Character Special Files</strong> - Used to model serial I/O devices (Unix)</li><li><strong>Block Special Files</strong> - Used to model (Unix)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="system-calls-1">System Calls<a class="hash-link" href="#system-calls-1" title="Direct link to heading">​</a></h3><p>File Control Block (FCB) - Kernel data structures (Only accessible in kernel mode)
File manipulation - <code>open()</code>, <code>close()</code>, <code>read()</code>, <code>write()</code>
Directory manipulation - <code>create()</code>, <code>delete()</code>, <code>rename()</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-system-structures">File System Structures<a class="hash-link" href="#file-system-structures" title="Direct link to heading">​</a></h3><ul><li><strong>Single level</strong> - all files in the same directory</li><li><strong>Two or multiple level directories</strong> - tree structures<ul><li>Absolute path name - from root of the file system</li><li>Relative path name - current working directory is used as the starting point</li></ul></li><li><strong>Directed acrylic graph (DAG)</strong> - Allows files to be shared but cycles are forbidden</li><li><strong>Generic graph structure</strong> in which links and cycles can exist</li></ul><p><img loading="lazy" src="/assets/images/20221125091950-9c4d6c8679755a14a47b655e3e3cc6b6.png" width="419" height="393" class="img_ev3q"></p><p>Use of DAG which can cause complication in the implementation such as searching file system, absolute file names, deleting files and garbage collection</p><p><strong>Directories</strong> - List of human readable file names which are mapped onto unique identifiers and disk locations. Finding a file comes down to how fast it can search a directory. Indexes or hashes are best used. (Windows) store all file related attributes, (Unix) can contain a pointer to the data structure that contains the details of the file.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="implementation-view">Implementation View<a class="hash-link" href="#implementation-view" title="Direct link to heading">​</a></h3><p>Other considerations need to be considered such as disk partitions, space management and system wide/per process file tables. </p><p><strong>Hard Disk Structures</strong> - Master boot record is located at start of the entire drive. Used to boot computer, and contains partition table. One partition is listed as active containing a boot block to load the operating system</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="partition-layouts">Partition Layouts<a class="hash-link" href="#partition-layouts" title="Direct link to heading">​</a></h4><ul><li>Unix partition boot block contains a code to boot the OS, every partition has boot block.</li><li><strong>Super block</strong> contains the partitions details (size, number of blocks etc)</li><li><strong>Free space management</strong> contains bitmap or linked list that indicates the free block</li><li><strong>I-nodes</strong> - an array of data structures, one per file, telling all about the files</li><li><strong>Root directory</strong> - the top of the file-system tree</li><li><strong>Data</strong> files and directories</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-space-management">Disk Space Management<a class="hash-link" href="#disk-space-management" title="Direct link to heading">​</a></h4><p>Bitmaps and linked lists are commonly used to keep track of free disk space.
Bitmap - Size grows with the size of the disk but is constant for a given disk. Take comparably less space than linked lists.
Linked List (Grouping) - Use free blocks to hold number of the free blocks. Linked together. Size of the list alters based on disk size.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="summary-2">Summary<a class="hash-link" href="#summary-2" title="Direct link to heading">​</a></h5><p>Bitmaps</p><ul><li>Require extra space. </li><li>Keeping it in main memory is possible only for small disks
Linked lists</li><li>No waste of disk space</li><li>Only need to keep in memory one block of pointers</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-tables">File Tables<a class="hash-link" href="#file-tables" title="Direct link to heading">​</a></h3><ul><li>Number of key data structures stored in memory. All in-memory mount table &amp; directory access cache.</li><li>System-wide open file table, list of currently open FCB</li><li>Per-process open file table, containing a pointer to the system open file table</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contiguous-allocation">Contiguous Allocation<a class="hash-link" href="#contiguous-allocation" title="Direct link to heading">​</a></h3><p>Similar to dynamic partitioning memory allocation. Each file is stored in a single group of adjacent blocks on the hard disk. Done using first fit, best fit, next fit etc
<strong>Advantages</strong> - Simple to implement (only location of first block and length of the file stored), optimal r/w performance (located nearby one another)
<strong>Disadvantages</strong> - Exact size of a file is not always known beforehand, allocation algorithm required to see which free blocks to be allocated, deleting a file results in external fragmentation</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linked-lists">Linked Lists<a class="hash-link" href="#linked-lists" title="Direct link to heading">​</a></h3><p>Avoid external fragmentation, files are stored in separate blocks that are linked to one another. Each block contains a data pointer to the next block
<strong>Advantages</strong> - Easy to maintain, and file sizes can grow dynamically. Similar to paging in memory, every possible block/sector of disk can be used
<strong>Disadvantages</strong> - Random access is very slow. Some internal fragmentation, on average the last half of the block is left unused. May result in random disk access which is very slow. Space is also lost within the blocks due to the pointer.
<strong>Diminished reliability</strong> - If one block is corrupt/lost, access to the rest of the file is lost</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-allocation-table-fat">File Allocation Table (FAT)<a class="hash-link" href="#file-allocation-table-fat" title="Direct link to heading">​</a></h3><p>Store the linked-list pointer in a separate index table, called a File Allocation Table in memory
<strong>Advantages</strong> - Block size remains power of 2, no space is lost due to the pointer. Index table can be kept in memory allowing fast non-sequential random access
<strong>Disadvantages</strong> - Size of the file allocation table grows with the number of blocks, size of disk</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="i-nodes-lookups">I-nodes (lookups)<a class="hash-link" href="#i-nodes-lookups" title="Direct link to heading">​</a></h3><ul><li>Each file has a small data structure called i-node(index node) that contains its attributes and block pointers. Only located when the file is open.<ul><li>If every I-node consists of n bytes, and at most k files can be open at any point in time, at most <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">n\times k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span> bytes of main memory are required</li></ul></li><li>Usually composed of direct block pointers, indirect block pointers, or a combination thereof</li></ul><p><img loading="lazy" src="/assets/images/20221128132757-a21ffab2bf29e91d9fd3884975900c0f.png" width="805" height="480" class="img_ev3q"></p><p><strong>Directories</strong> - In UNIX, all information about the file is stored in its i-node. Directory tables are very simple data structures composed of file name and a pointer to the i-node.</p><p><strong>Lookups</strong> - Opening a file requires the disk blocks to be located</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- **Absolute file names** are located relative to the root directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- **Relative file names** are located based on the current working directory</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="i-nodes">I-nodes<a class="hash-link" href="#i-nodes" title="Direct link to heading">​</a></h3><p>Two approaches to share a file</p><ul><li><strong>Hard Links</strong> - Maintain two+ references to the same i-node in B and C. Fastest way of linking files.<ul><li><strong>Disadvantages</strong> - I-node deleted, hard link will point to an invalid i-node. If it gets recycled, will point to the wrong address.</li><li><strong>Solution</strong> - delete the file, and leave the i-node intact.</li></ul></li><li><strong>Symbolic/soft links</strong> - Owner maintains a reference to the i-node. This is a small file that contains the location. <ul><li><strong>Advantage</strong> - No problem deleting the original file. Linked file can be located on a different machine</li><li><strong>Disadvantage</strong> - They result in an extra file lookup. Require an extra i-node for the link file</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="log-structured-file-system-lsfs">Log Structured File System (LSFS)<a class="hash-link" href="#log-structured-file-system-lsfs" title="Direct link to heading">​</a></h2><p>Corresponding blocks are not necessarily in adjacent locations. Also in linked lists/FAT file systems blocks can be distributed all over the disk.
<strong>Aims</strong> - To improve the speed of a file system on a traditional hard disk by minimising head movements and rotational delays using the entire disk as a great big log
<strong>Concept</strong> - LSFS buffer r/w operations (i-nodes) in memory, enabling us to write &#x27;larger volumes&#x27; in one go. Once full it is &#x27;flushed&#x27; to the disk and written as one contiguous segment and the end of a log. <a href="/Year2/2007/21#concept">More Info</a>
<strong>Advantages</strong> - Greatly increases disk performance. Writes are more robust as they are done as a single operation.
<strong>Disadvantages</strong> - Not been widely used because it is highly incompatible with existing file systems. Cleaner thread takes additional CPU time</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-system-implementations">File System Implementations<a class="hash-link" href="#file-system-implementations" title="Direct link to heading">​</a></h2><p><strong>Deleting file</strong> consists of; remove the files directory entry, add the files i-node to the pool of free i-nodes, add the files disk blocks to the free list.
<strong>Deleting goes wrong</strong> - Crash occurs whilst deleting, i-nodes and disk blocks become inaccessible
Journaling (ext3/4) file systems aims at increasing the resilience of file systems against crashes by recording each update to the file system as a transaction.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="concept">Concept<a class="hash-link" href="#concept" title="Direct link to heading">​</a></h3><ul><li>Key ideas behind a journaling files system is to log all events(transactions) before they take place; write actions, carry them out, remove entries</li><li>If a crash occurs in the middle of an action the entry in the log file will remain present after the crash</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="virtual-file-systems">Virtual File Systems<a class="hash-link" href="#virtual-file-systems" title="Direct link to heading">​</a></h3><ul><li>Multiple file systems usually coexists on the same computer</li><li>These file systems can be seamlessly integrated by the operating, usually achieved by using virtual file systems (vfs). VFS relies on standard oop (polymorphism)</li><li>Unix and Linux unify different file systems and present them as a single hierarchy and hides away/abstracts the implementation specific details to the user</li><li>File system specific code is dealt with in an <strong>implementation layer</strong> that is <strong>clearly separated from the interface</strong></li><li>Each file system that meets the VFS requirements provides an implementation for the system calls contained in the interface. Implementation can be for remote file systems</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="summary-3">Summary<a class="hash-link" href="#summary-3" title="Direct link to heading">​</a></h3><ul><li>Logs - store everything as close as possible</li><li>Journaling - apply the transaction principle</li><li>VFS - apply good software design</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-system-consistency">File System Consistency<a class="hash-link" href="#file-system-consistency" title="Direct link to heading">​</a></h2><p>Checking Consistency - Journaling heavily reduces the probability of having inconsistencies in a file systems. Can still be possible to get some inconsistencies. Can be problematic, especially for structural blocks such as i-nods</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="block-consistency">Block Consistency<a class="hash-link" href="#block-consistency" title="Direct link to heading">​</a></h3><ul><li>Checks whether blocks are assigned/used the correct way. Checked by building two tables, occurrence in a file (i-nodes), how often present in the free list. </li><li>Consistent file system has 1 in either of the tables for each block</li><li>Typically, this is a very slow process, can take hours</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="restore-block-consistency">Restore Block Consistency<a class="hash-link" href="#restore-block-consistency" title="Direct link to heading">​</a></h3><ul><li>Missing block - Does not exist in any of the tables (add to free list)</li><li>Double counted - Block counted twice in the free list (re-build the free list)</li><li>Block present in two or more files<ul><li>Removing one file results in the adding the block to the free list</li><li>Remove both files will result in a double entry in the free lost</li><li>Solution - Use new free block and copy the content(file likely to be damaged)</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="restore-i-node-consistency">Restore I-node Consistency<a class="hash-link" href="#restore-i-node-consistency" title="Direct link to heading">​</a></h3><ul><li>Checking the directory system</li><li>I-node counter is higher than the number of directories containing the file<ul><li>Removing the file will reduce the i-node counter by 1.</li><li>Since counter is greater than 1, the i-node will not be released for future use</li></ul></li><li>I-node counter is less than the number of directories containing the file<ul><li>Removing the file will (eventually) set the i-node counter to 0 whilst the file is still referenced</li><li>The file/i-node will be released, even though the file was still in use</li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-system-de-fragmentation">File System De-fragmentation<a class="hash-link" href="#file-system-de-fragmentation" title="Direct link to heading">​</a></h3><ul><li>At the start, all free disk space is in a single contiguous unit.</li><li>Altering files can cause a disk to be fragmented</li><li>Defrag utilities make file blocks contiguous, but can be </li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linux-file-system">Linux File System<a class="hash-link" href="#linux-file-system" title="Direct link to heading">​</a></h3><ul><li><strong>Minix File System</strong> - Max: 64MB, file names limited to 14 char</li><li><strong>Extended File System (extfs)</strong> - file names were 255 char, max file size 2GB</li><li><strong>ext2</strong> - larger files, names, better performance</li><li><strong>ext3-4</strong> - journaling</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="directory-entries">Directory Entries<a class="hash-link" href="#directory-entries" title="Direct link to heading">​</a></h3><ul><li>Superblock contains file system information.</li><li>Group descriptor contains bitmap locations and other information</li><li>Data block bitmap and i-node bitmap</li><li>Table of i-nodes containing file and disk block info</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ext2">Ext2<a class="hash-link" href="#ext2" title="Direct link to heading">​</a></h3><p>Partition is split into several block groups</p><ul><li>Reduce fragmentation by storing i-nodes and files etc in same block group</li><li>Reduce seek time and improve performance
All groups have the same size and stored sequentially </li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="virtualisation">Virtualisation<a class="hash-link" href="#virtualisation" title="Direct link to heading">​</a></h2><ul><li>Abstract hardware of a single computer into several different execution environments. A failure in a particular VM does not result in bringing down any others.</li><li><strong>Host</strong> - Underlying hardware system</li><li><strong>Hypervisor/Virtual machine manager (VMM)</strong> - Create and runs virtual machines by providing an interface that is identical to the host</li><li><strong>Guest</strong> - Process provided with virtual copy of the host</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="main-properties">Main properties<a class="hash-link" href="#main-properties" title="Direct link to heading">​</a></h3><ul><li><strong>Isolation</strong> - Each VM is independent, so failures do not affect the host</li><li><strong>Encapsulation</strong> - State can be captured into a file. Easy to move the memory image that contains OS tables</li><li><strong>Interposition</strong> - All guest actions go through the monitor which can inspect, modify, deny operations</li><li>Fewer physical machines save money on hardware and electricity</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="requirements-for-virtualisation">Requirements for Virtualisation<a class="hash-link" href="#requirements-for-virtualisation" title="Direct link to heading">​</a></h3><ul><li><strong>Safety</strong> - Hypervisor should have full control of the visualised resources</li><li><strong>Fidelity</strong> - The behaviour of a program on a VM should be exact same as running on normal.</li><li><strong>Efficiency</strong> - Much of the code in VM should run without intervention by the hypervisor (overheads)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="approaches-1">Approaches<a class="hash-link" href="#approaches-1" title="Direct link to heading">​</a></h3><ul><li><strong>Full Virtualisation</strong> - Tries to trick the guest into believing that it has the entire system</li><li><strong>Paravirtualisation</strong>  - Does not simulate, offers set of hyper calls which allows the guest to send requests to hypervisor</li><li><strong>Process-level virtualisation</strong> - Allow process to run on different hardware. (exe on linux) (wine)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="types-of-hypervisors">Types of hypervisors<a class="hash-link" href="#types-of-hypervisors" title="Direct link to heading">​</a></h3><ul><li><strong>Natives (Type 1)</strong> - Like an OS, since it is the only programming running in the most privileged mode. Its job is to support multiple copies of the actual hardware</li><li><strong>Hosted (Type 2)</strong> - Relies on a OS to allocate a schedule resources, very much like a regular process</li></ul><p><img loading="lazy" src="/assets/images/20221209092837-9f7d6ae90075d6d6e0df996a36d5d5fb.png" width="402" height="254" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="vmm-virtual-machine-management">VMM (Virtual Machine Management)<a class="hash-link" href="#vmm-virtual-machine-management" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="type-1">Type 1<a class="hash-link" href="#type-1" title="Direct link to heading">​</a></h4><ul><li>Hypervisor installed directly on hardware and is the real kernel. OS runs in user mode</li><li>Preferred architecture for high-end servers</li><li>Paravirtualised-based VMs are typically based on type 1 hypervisors</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="type-2">Type 2<a class="hash-link" href="#type-2" title="Direct link to heading">​</a></h4><ul><li>Installs and runs VMs as an application on an existing OS</li><li>Relies on host scheduling, may not be suitable for intensive VM workloads. I/O path is slow because it required world switch</li></ul><p>Hypervisor must visualise:</p><ul><li><strong>Privileged Instructions</strong> - Not safe to let guest kernel run in kernel mode. Need both virtual mode. When guest OS executes an instruction that is allowed only when the CPU is in kernel mode;<ul><li>Type-1 - CPU without Virtual Technology the instruction fails, and the OS crashes</li><li>Type-2 - Could work without VT, privileged instructions are emulated</li></ul></li><li><strong>Trap-and-emulate</strong> - When attempting a privileged instruction in user mode causes an error(trap). VMM gains control and executes it. Returns control to guest in user mode</li><li><strong>CPU</strong> - Need to multiplex VMs on CPU, can do this with time-slice.<ul><li>Type-1 - Need a relatively simple scheduler</li></ul></li><li><strong>Memory</strong> - Partitions memory among VMs, assigns hardware pages to VM. Need to control mappings for isolation. OS manages page tables, but not used by MMU. For each VM, hypervisor creates a shadow page table that maps virtual pages used by the VM onto the actual pages the hypervisor gave it.</li><li><strong>I/O Devices</strong> - Guest OS cannot directly interact with I/O devices,  but thinks it owns the device. VMM receives interrupts and exceptions<ul><li>Type-1 - run the drivers</li><li>Type-2 - Driver knows about hypervisor/VMM and cooperates to pass the buck to a real device</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-cloud">The Cloud<a class="hash-link" href="#the-cloud" title="Direct link to heading">​</a></h2><ul><li>Computational paradigm. Virtualisation provides the necessary isolation to share multiple clients on a single physical machine </li><li><strong>Remote Hosted</strong> - Services/data hosted on remote infrastructure.</li><li><strong>Ubiquitous</strong> - Services or data are available from anywhere</li><li>Flexibility &amp; elastically allow these systems to scale up and down.</li><li><strong>Commodified</strong> - result is utility computing model similar to traditional utilities</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="caveats">Caveats<a class="hash-link" href="#caveats" title="Direct link to heading">​</a></h3><ul><li>Easier for IT managers to deal with the computing</li><li><strong>Rapid Elasticity</strong> - Currently one of the key challenges in cloud computing</li><li>To the consumer, resources often appear to be unlimited and can be purchased in any quantity at a time</li><li><strong>Optimisation</strong> - of the current usage saves energy</li><li><strong>Prediction</strong> - Techniques may help alleviate the problem based on historical data</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="virtualisation-1">Virtualisation<a class="hash-link" href="#virtualisation-1" title="Direct link to heading">​</a></h3><ul><li><strong>Non-live migration</strong> - No need to shut down, just pause the VM(checkpointing), then copy over the memory pages used by the VM to the new hardware as quickly as possible</li><li><strong>Live Migration</strong> - Idea is to start moving the virtual machine while it is still operational</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cloud-service-models">Cloud Service Models<a class="hash-link" href="#cloud-service-models" title="Direct link to heading">​</a></h3><ul><li><strong>IaaS</strong> (Infrastrucutre as a Service) - Places most responsibility on the consumer, cloud provider responsible for the basics.</li><li><strong>SaaS</strong> (Software as a Service) - Places responsibility with the cloud provider.</li><li><strong>PaaS</strong> (Platform as a Service) - Middle ground of them. Evenly distributes responsibility.</li><li><strong>Private</strong> - Implemented within the internal IT environment of an organisation </li><li><strong>Public</strong> - An organisation selling cloud services to the general public</li><li><strong>Community</strong> - Somewhere in between private and public</li><li><strong>Hybrid</strong> - Composed of two or more clouds</li></ul><p><img loading="lazy" src="/assets/images/20221212150155-2bfdb840bae32b66a4a7daa4ca17c31a.png" width="1205" height="924" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/20221212150422-4919a385807ee6e2f31c48a9d64a0654.png" width="1638" height="424" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Year2/2007/24"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">24.  Virtualisation &amp; the Cloud</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Year2/2007/26"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">26. Exam Practise Questions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-definitions" class="table-of-contents__link toc-highlight">Quick Definitions</a></li><li><a href="#computer-design" class="table-of-contents__link toc-highlight">Computer Design</a><ul><li><a href="#registers" class="table-of-contents__link toc-highlight">Registers</a></li><li><a href="#memory-management-unit" class="table-of-contents__link toc-highlight">Memory Management Unit</a></li><li><a href="#moors-law" class="table-of-contents__link toc-highlight">Moors Law</a></li><li><a href="#multi-core-hyper-threaded-processors" class="table-of-contents__link toc-highlight">Multi-core, hyper-threaded processors</a></li><li><a href="#micro-kernels" class="table-of-contents__link toc-highlight">Micro Kernels</a></li></ul></li><li><a href="#introduction-to-processes" class="table-of-contents__link toc-highlight">Introduction to processes</a><ul><li><a href="#context-switching" class="table-of-contents__link toc-highlight">Context Switching</a></li><li><a href="#process-implementation" class="table-of-contents__link toc-highlight">Process implementation</a></li><li><a href="#states-and-transitions" class="table-of-contents__link toc-highlight">States and Transitions</a></li><li><a href="#system-calls" class="table-of-contents__link toc-highlight">System Calls</a></li></ul></li><li><a href="#process-scheduling" class="table-of-contents__link toc-highlight">Process Scheduling</a><ul><li><a href="#time-horizon" class="table-of-contents__link toc-highlight">Time Horizon</a></li><li><a href="#process-schedulers" class="table-of-contents__link toc-highlight">Process Schedulers</a></li><li><a href="#performance-assessment" class="table-of-contents__link toc-highlight">Performance Assessment</a></li><li><a href="#scheduling-algorithms" class="table-of-contents__link toc-highlight">Scheduling Algorithms</a></li></ul></li><li><a href="#threads" class="table-of-contents__link toc-highlight">Threads</a><ul><li><a href="#reason-to-use-threads" class="table-of-contents__link toc-highlight">Reason to use threads</a></li><li><a href="#user-threads" class="table-of-contents__link toc-highlight">User Threads</a></li><li><a href="#kernel-threads" class="table-of-contents__link toc-highlight">Kernel Threads</a></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#hybrid-implementations" class="table-of-contents__link toc-highlight">Hybrid Implementations</a></li><li><a href="#thread-management" class="table-of-contents__link toc-highlight">Thread Management</a></li></ul></li><li><a href="#process-scheduling-1" class="table-of-contents__link toc-highlight">Process Scheduling</a><ul><li><a href="#completely-fair-scheduler" class="table-of-contents__link toc-highlight">Completely fair scheduler</a></li><li><a href="#multi-processor-scheduling" class="table-of-contents__link toc-highlight">Multi-processor scheduling</a></li></ul></li><li><a href="#concurrency" class="table-of-contents__link toc-highlight">Concurrency</a><ul><li><a href="#race-conditions" class="table-of-contents__link toc-highlight">Race Conditions</a></li><li><a href="#deadlocks" class="table-of-contents__link toc-highlight">Deadlocks</a></li><li><a href="#petersons-solution" class="table-of-contents__link toc-highlight">Peterson&#39;s Solution</a></li><li><a href="#mutexs--semaphores" class="table-of-contents__link toc-highlight">Mutexs &amp; Semaphores</a></li><li><a href="#the-producerconsumer-problem" class="table-of-contents__link toc-highlight">The Producer/Consumer Problem</a></li><li><a href="#the-dining-philosophers-problem" class="table-of-contents__link toc-highlight">The Dining Philosophers Problem</a></li><li><a href="#readerwriters-problem" class="table-of-contents__link toc-highlight">Reader/Writers Problem</a></li></ul></li><li><a href="#memory-management" class="table-of-contents__link toc-highlight">Memory Management</a><ul><li><a href="#partitioning" class="table-of-contents__link toc-highlight">Partitioning</a></li><li><a href="#mono-programming" class="table-of-contents__link toc-highlight">Mono-Programming</a></li><li><a href="#multi-programming-1" class="table-of-contents__link toc-highlight">Multi-Programming</a></li></ul></li><li><a href="#partitioning-1" class="table-of-contents__link toc-highlight">Partitioning</a><ul><li><a href="#relocation--protection" class="table-of-contents__link toc-highlight">Relocation &amp; Protection</a></li><li><a href="#dynamic-partitioning" class="table-of-contents__link toc-highlight">Dynamic Partitioning</a></li><li><a href="#allocation-structures" class="table-of-contents__link toc-highlight">Allocation Structures</a></li><li><a href="#allocating-available-memory" class="table-of-contents__link toc-highlight">Allocating Available Memory</a></li><li><a href="#managing-available-memory" class="table-of-contents__link toc-highlight">Managing available memory</a></li><li><a href="#contiguous-allocation-schemes" class="table-of-contents__link toc-highlight">Contiguous Allocation Schemes</a></li></ul></li><li><a href="#paging" class="table-of-contents__link toc-highlight">Paging</a><ul><li><a href="#address-translation" class="table-of-contents__link toc-highlight">Address Translation</a></li><li><a href="#relocation" class="table-of-contents__link toc-highlight">Relocation</a></li><li><a href="#page-tables" class="table-of-contents__link toc-highlight">Page Tables</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></li><li><a href="#virtual-memory" class="table-of-contents__link toc-highlight">Virtual Memory</a><ul><li><a href="#inverted-page-tables" class="table-of-contents__link toc-highlight">Inverted Page Tables</a></li><li><a href="#page-replacement" class="table-of-contents__link toc-highlight"><strong>Page Replacement</strong></a></li><li><a href="#resident-set" class="table-of-contents__link toc-highlight">Resident Set</a></li><li><a href="#working-sets" class="table-of-contents__link toc-highlight">Working Sets</a></li><li><a href="#paging-daemon" class="table-of-contents__link toc-highlight">Paging Daemon</a></li><li><a href="#thrashing" class="table-of-contents__link toc-highlight">Thrashing</a></li></ul></li><li><a href="#disk-scheduling" class="table-of-contents__link toc-highlight">Disk Scheduling</a><ul><li><a href="#hard-disks" class="table-of-contents__link toc-highlight">Hard Disks</a></li><li><a href="#disk-scheduling-1" class="table-of-contents__link toc-highlight">Disk Scheduling</a></li><li><a href="#driver-caching" class="table-of-contents__link toc-highlight">Driver Caching</a></li></ul></li><li><a href="#file-systems" class="table-of-contents__link toc-highlight">File Systems</a><ul><li><a href="#user-view" class="table-of-contents__link toc-highlight">User View</a></li><li><a href="#files" class="table-of-contents__link toc-highlight">Files</a></li><li><a href="#system-calls-1" class="table-of-contents__link toc-highlight">System Calls</a></li><li><a href="#file-system-structures" class="table-of-contents__link toc-highlight">File System Structures</a></li><li><a href="#implementation-view" class="table-of-contents__link toc-highlight">Implementation View</a></li><li><a href="#file-tables" class="table-of-contents__link toc-highlight">File Tables</a></li><li><a href="#contiguous-allocation" class="table-of-contents__link toc-highlight">Contiguous Allocation</a></li><li><a href="#linked-lists" class="table-of-contents__link toc-highlight">Linked Lists</a></li><li><a href="#file-allocation-table-fat" class="table-of-contents__link toc-highlight">File Allocation Table (FAT)</a></li><li><a href="#i-nodes-lookups" class="table-of-contents__link toc-highlight">I-nodes (lookups)</a></li><li><a href="#i-nodes" class="table-of-contents__link toc-highlight">I-nodes</a></li></ul></li><li><a href="#log-structured-file-system-lsfs" class="table-of-contents__link toc-highlight">Log Structured File System (LSFS)</a></li><li><a href="#file-system-implementations" class="table-of-contents__link toc-highlight">File System Implementations</a><ul><li><a href="#concept" class="table-of-contents__link toc-highlight">Concept</a></li><li><a href="#virtual-file-systems" class="table-of-contents__link toc-highlight">Virtual File Systems</a></li><li><a href="#summary-3" class="table-of-contents__link toc-highlight">Summary</a></li></ul></li><li><a href="#file-system-consistency" class="table-of-contents__link toc-highlight">File System Consistency</a><ul><li><a href="#block-consistency" class="table-of-contents__link toc-highlight">Block Consistency</a></li><li><a href="#restore-block-consistency" class="table-of-contents__link toc-highlight">Restore Block Consistency</a></li><li><a href="#restore-i-node-consistency" class="table-of-contents__link toc-highlight">Restore I-node Consistency</a></li><li><a href="#file-system-de-fragmentation" class="table-of-contents__link toc-highlight">File System De-fragmentation</a></li><li><a href="#linux-file-system" class="table-of-contents__link toc-highlight">Linux File System</a></li><li><a href="#directory-entries" class="table-of-contents__link toc-highlight">Directory Entries</a></li><li><a href="#ext2" class="table-of-contents__link toc-highlight">Ext2</a></li></ul></li><li><a href="#virtualisation" class="table-of-contents__link toc-highlight">Virtualisation</a><ul><li><a href="#main-properties" class="table-of-contents__link toc-highlight">Main properties</a></li><li><a href="#requirements-for-virtualisation" class="table-of-contents__link toc-highlight">Requirements for Virtualisation</a></li><li><a href="#approaches-1" class="table-of-contents__link toc-highlight">Approaches</a></li><li><a href="#types-of-hypervisors" class="table-of-contents__link toc-highlight">Types of hypervisors</a></li><li><a href="#vmm-virtual-machine-management" class="table-of-contents__link toc-highlight">VMM (Virtual Machine Management)</a></li></ul></li><li><a href="#the-cloud" class="table-of-contents__link toc-highlight">The Cloud</a><ul><li><a href="#caveats" class="table-of-contents__link toc-highlight">Caveats</a></li><li><a href="#virtualisation-1" class="table-of-contents__link toc-highlight">Virtualisation</a></li><li><a href="#cloud-service-models" class="table-of-contents__link toc-highlight">Cloud Service Models</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">a Dan Lee creations. 
 2023©</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9a725108.js"></script>
<script src="/assets/js/main.d8c7c641.js"></script>
</body>
</html>