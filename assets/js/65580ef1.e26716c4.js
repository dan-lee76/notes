"use strict";(self.webpackChunknottes=self.webpackChunknottes||[]).push([[8513],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>g});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(a),g=r,h=p["".concat(l,".").concat(g)]||p[g]||u[g]||i;return a?n.createElement(h,o(o({ref:t},d),{},{components:a})):n.createElement(h,o({ref:t},d))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},3747:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const i={},o="TDD & SE Practices",s={unversionedId:"Year1/Software Engineer/Reading/TDD and SE Practices",id:"Year1/Software Engineer/Reading/TDD and SE Practices",title:"TDD & SE Practices",description:"TDD - Agile Alliance",source:"@site/docs/Year1/1003 - Software Engineer/Reading/TDD and SE Practices.md",sourceDirName:"Year1/1003 - Software Engineer/Reading",slug:"/Year1/Software Engineer/Reading/TDD and SE Practices",permalink:"/Year1/Software Engineer/Reading/TDD and SE Practices",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"year1",previous:{title:"How to write good specs",permalink:"/Year1/Software Engineer/Reading/Specs & Prototyping"},next:{title:"1004 - Database & Interfaces",permalink:"/Year1/Databases/"}},l={},c=[{value:"TDD - Agile Alliance",id:"tdd---agile-alliance",level:2},{value:"Expected Benefits",id:"expected-benefits",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:3},{value:"Origins",id:"origins",level:3},{value:"Sings of use",id:"sings-of-use",level:3},{value:"SE Practices",id:"se-practices",level:2},{value:"The Source Repository",id:"the-source-repository",level:3},{value:"The Build System",id:"the-build-system",level:3},{value:"Code Review",id:"code-review",level:3},{value:"Testing",id:"testing",level:3},{value:"Bug Tracking",id:"bug-tracking",level:3},{value:"Programming Languages",id:"programming-languages",level:3},{value:"Debugging and Profiling tools",id:"debugging-and-profiling-tools",level:3},{value:"Release Engineering",id:"release-engineering",level:3}],d={toc:c};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"tdd--se-practices"},"TDD & SE Practices"),(0,r.kt)("h2",{id:"tdd---agile-alliance"},"TDD - Agile Alliance"),(0,r.kt)("p",null,"TDD - Test-driven development\nRefers to a style of programming in which three activities are tightly interwoven;"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Coding"),(0,r.kt)("li",{parentName:"ul"},"Testing: In the form of writing unit tests"),(0,r.kt)("li",{parentName:"ul"},"Design: In the form of refactoring")),(0,r.kt)("h3",{id:"expected-benefits"},"Expected Benefits"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Report significant reductions in defect rates,, at the cost of a moderate increase in initial development effort"),(0,r.kt)("li",{parentName:"ul"},"Tend to report that these overheads are more than offset by a reduction in effort in projects final phases"),(0,r.kt)("li",{parentName:"ul"},"No research, but leaders say there is improved design qualities in the code, and there is a higher degree of internal or technical quality")),(0,r.kt)("h3",{id:"common-pitfalls"},"Common Pitfalls"),(0,r.kt)("p",null,"Individual mistakes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Forgetting to run tests frequently "),(0,r.kt)("li",{parentName:"ul"},"Writing too many tests at once"),(0,r.kt)("li",{parentName:"ul"},"Writing tests that are too large"),(0,r.kt)("li",{parentName:"ul"},"Writing overly trivial tests"),(0,r.kt)("li",{parentName:"ul"},"Writing tests for trivial code")),(0,r.kt)("p",null,"Team mistakes:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Partial adoption - only a few developers on the team use TDD"),(0,r.kt)("li",{parentName:"ul"},"Poor maintenance of the test suite, so becomes inactive and creates a long running time"),(0,r.kt)("li",{parentName:"ul"},"Test suite becomes abandoned")),(0,r.kt)("h3",{id:"origins"},"Origins"),(0,r.kt)("p",null,"Not original to the Agile community, constitutes a breakthrough insofar.\nBy 2006 TDD is a relatively mature discipline which has started encouraging further innovations derived from it."),(0,r.kt)("h3",{id:"sings-of-use"},"Sings of use"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Code coverage is common approach to evidencing the use of TDD. Higher coverage does not guarantee, coverage below 80% is likely to indicate deficiencies in a teams mastery of TDD."),(0,r.kt)("li",{parentName:"ul"},"Version control longs should show that test code is checked in each time product code is checked in. ")),(0,r.kt)("h2",{id:"se-practices"},"SE Practices"),(0,r.kt)("h3",{id:"the-source-repository"},"The Source Repository"),(0,r.kt)("p",null,"Most of Googles code is stored in a single unified source-code repository and is accessible to all software engineers at Google.\nAnyone at google is able to edit the source code, and are actively encouraged to find bugs to create a better product."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Almost all development occurs at the 'head' of the repository"),", not on branches. This helps identify integration problems early and minimises the amount of merging work needed. Also makes it easier and faster to push out security fixes."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Automated systems run tests frequently"),", often when there are file changes. Have a traffic like system, which monitors changes and ensures it passes all the tests. Most larger teams have a ",(0,r.kt)("em",{parentName:"p"},"build cop")," whose responsible for ensuring the tests continue to pass at head, working with the authors and offering quick fixes"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code ownership"),". Each sub-tree of the repo have a file listing user id who owns that sub-tree. Also inherit owners from their parent directories. The owners control write access to that sub-tree. Can have multiple owners, anyone can alter code, but every change has to be reviewed by someone who understands the code."),(0,r.kt)("h3",{id:"the-build-system"},"The Build System"),(0,r.kt)("p",null,"Has its own build system, and it is typically very simple and quick for any Google engineer to build and test any software in the repository. Create build rules, and is up to the build system to map each build rule to a set of build steps, e.g. steps for compiling each source file and steps for linking, and for determining which compiler and compilation flags to use. Has a build file so its quicker and system doesn't have to compile code to see what libraries it requires."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Individual build steps must be 'hermetic': they depend only on their declared inputs.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Individual build steps are deterministic.")," Build system can cache build results. Can be used to retrieve old binaries and safely share between different users."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"The build system is reliable.")," Never any need to run the equivalent of ",(0,r.kt)("inlineCode",{parentName:"p"},"make clean"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Build results are cached 'in the cloud'.")," Includes intermediate results. If another build request needs the same results, the build system will automatically reuse them rather than rebuilding, even if the request comes from a different user."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Incremental rebuilds are fast.")," Build system stays resident in memory so that for rebuilds it can incrementally analyse just the files that have changed since the last build. "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Presubmit checks.")," Can run checks before code review or synchronously. Results get emailed and displayed on the web-based code review tool."),(0,r.kt)("h3",{id:"code-review"},"Code Review"),(0,r.kt)("p",null,"Have emails which get auto sent and can have code comparison with colours. Similar to gitlabs."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"All changes to the main source code repository MUST be reviewed by at least one other engineer (Has to be one of the owners).")," Author is free to choose who the code reviewer is, but there are google tools which automatically suggest reviewers based on how many reviews they have to do, and their activity into that sub-tree. Being free to choose who reviews code can speed up development based on the authors need and the code produced."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Code review discussions for each project are automatically copied to a mailing list designated by the project maintainers.")," Anyone is free to comment on any change, regardless of whether they were named as a reviewer. "),(0,r.kt)("p",null,"There is also an ",(0,r.kt)("strong",{parentName:"p"},"'experimental' section of the repository where the normal code review requirements are not enforced.")," They are advised to program in the main section of the repository since code review is most effective when done as the code developed rather than afterwards."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Engineers are encouraged to keep individual changes small"),". This is so a reviewer doesn't have to look through a lot of code, and are more likely to suggest changes when the code is smaller."),(0,r.kt)("h3",{id:"testing"},"Testing"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Unit Testing is strongly encouraged and widely practised at Google"),". Code which adds new functionality should also add new tests to cover the new functionality. Integration testing and regression testing are also widely practised."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Load testing prior to deployment"),". Teams are expected to produce a table or graph showing how key metrics (latency, error rate), vary with the rate of incoming requests.strong text"),(0,r.kt)("h3",{id:"bug-tracking"},"Bug Tracking"),(0,r.kt)("p",null,"Has its own tracking system called Buganizer. Use labels to targatise bugs in certain releases."),(0,r.kt)("h3",{id:"programming-languages"},"Programming Languages"),(0,r.kt)("p",null,"Advised to program in one of the five officially approved programming languages at Google: C++, Java, Python, Go or JavaScript."),(0,r.kt)("p",null,"There are also Google ",(0,r.kt)("strong",{parentName:"p"},"style guides")," for each language to ensure that code all across the company is written with similar style, layout and naming conventions. There is also a company-wide ",(0,r.kt)("strong",{parentName:"p"},"readability")," training process. Each change that adds non-trivial new code in a particular language must be approved by someone who has passed this 'readability' training process in that language"),(0,r.kt)("p",null,"There are also ",(0,r.kt)("strong",{parentName:"p"},"specialised domain-specific languages")," that are used for particular purposes (build language)"),(0,r.kt)("p",null,"Interoperaiton between these different programming languages done using ",(0,r.kt)("strong",{parentName:"p"},"Protocol Buffers"),". Way of encoding structured data in an efficient yet extensible way. Includes domain-specific language for specifying structured data, together with a compiler that takes in such descriptions and generates code is the languages."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Commonality of process")," is key to making development easy. Set of commands to perform all the usual software engineering tasks, and the same commands can be used no matter the project or language."),(0,r.kt)("h3",{id:"debugging-and-profiling-tools"},"Debugging and Profiling tools"),(0,r.kt)("p",null,"In a server crash, a signal handler will automatically dump a stack trace to a log file as well as saving the core file. There are also web interfaces for debugging. These tools greatly increase the overall ease of debugging to the point where it is rare to fire up a traditional debugger."),(0,r.kt)("h3",{id:"release-engineering"},"Release Engineering"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Releases are done frequently")," for most software. Made possible by ",(0,r.kt)("strong",{parentName:"p"},"automating most of the normal release engineering tasks.")," Releasing frequently helps keep engineers motivated."),(0,r.kt)("p",null,"Once all tests passed, code moved onto release branch which gets rebuilt. Engineer can cherry pick features and patches. As long as it passes all test, gets released."),(0,r.kt)("p",null,"Once a candidate build has been packaged up, it is typically loaded onto a ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"staging"))," server for further ",(0,r.kt)("strong",{parentName:"p"},"integration testing by small set of users"),". Usually roll out one or more ",(0,r.kt)("strong",{parentName:"p"},"canary")," servers that are ",(0,r.kt)("strong",{parentName:"p"},"processing a subset of the live production traffic"),"."),(0,r.kt)("p",null,"Once complete, the release can be rolled out to all servers in all data centres. For very high-traffic, high-reliability services, this is done with a ",(0,r.kt)("strong",{parentName:"p"},"gradual roll-out")," over a period of a couple of days, to help reduce the impact of any outages due to newly introduced bugs not caught by any of the previous steps."))}u.isMDXComponent=!0}}]);